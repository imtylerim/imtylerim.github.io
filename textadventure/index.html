<!DOCTYPE html>
<html>

	<head>
		<link type="text/css" rel="stylesheet" href="index.css"/>
	</head>

	<body>

		<script>
			/*	Our adventure begins at 8:00 pm!	*/
			localStorage.setItem("HOURS", 20);
			localStorage.setItem("MINUTES", 00);

			/*  Displays time.
				Time is calculated in 24-hour format,
				but is displayed in 12-hour format. */
			function displayTime() {
				var hours = Number(localStorage.getItem("HOURS"));
				var minutes = Number(localStorage.getItem("MINUTES"));
				var timeString = "";

				/*  Since hours need to be %'d by 12, both 0 and 12 need 
					special cases, or else they would be displayed as 0:00.	*/ 
				if (hours == 0 || hours == 12)
					timeString += 12;
				else
					timeString += hours % 12;

				timeString += ":";

				//Ensures time is not printed as 8:9, for example, but 8:09
				if (minutes == 0 || minutes < 10)
					timeString += "0";
				timeString += minutes;

				if (hours < 12)
					timeString += " am"
				else
					timeString += " pm"

				document.getElementById("time").innerHTML = timeString;
			}

		</script>

		<p id="time">
			<script>
				displayTime();
			</script>
		</p>
		
		<!--The actual text begins here! -->
		<p>
			The yellow-white light comes crackling alive. The familiar smell of dirty laundry. The door closes shut behind you.
		</p>
		<p>
			You pull the straps of your bag off and drop it on the floor and fall back onto the mattress, face up. For a few moments you just lie there, staring up at the ceiling. 
		</p>
		<p>
			You heave a deep sigh.
		</p>
		<p>
			It's 8:00 on a Friday night, and your friends have invited you to a house party two blocks away. You haven't gone out in a while, and you know the feeling of being shit-faced drunk would do you some good. But you've got a decent stack of work you were planning to get done tonight. And you also haven't been keeping up with your favorite TV show recently. 
		</p>
		<p>
			Choices, choices. What do you do?
		</p>

		<button type="button" onclick="increment()">Do your work</button>
		<button type="button" onclick="increment()">Watch your favorite TV show</button>
		<button type="button" onclick="increment()">Go to the party</button>
		<button type="button" onclick="increment()">Masturbate</button>

		<script>

			/*	Increments the number of minutes, then 
				calls displayTime()	to reflect time change.	*/
			function increment() {
				var numMinutes = Number(localStorage.getItem("MINUTES")) + 15;
				var numHours = Number(localStorage.getItem("HOURS"));

				/*	If minutes exceeds 60, add 1 to hours and % minutes 
					by 60. If hours exceeds 24, reset it 0.				*/
				if (numMinutes >= 60)
				{
					Math.floor(numMinutes %= 60);
					numHours++;
				}
				if (numHours == 24)
				{
					numHours = 0;
				}

				/*	Make sure to change localStorage	*/
				localStorage.setItem("MINUTES", numMinutes);
				localStorage.setItem("HOURS", numHours);
				displayTime();
			}

			/*switch(choice) {
				case 1:
					break;
				case 2:
					break;
				case 3:
					break;
				case 4:
					break;
			} */
		
		</script>


	</body>
</html>
